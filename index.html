<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Game Loader with Fullscreen</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
  background-color: black;
  color: white;
}

/* Search bar styling */
#search-container {
  padding: 10px;
  background-color: #111;
  display: flex;
  justify-content: center;
}

/* Search input */
#search-box {
  width: 60%;
  max-width: 500px;
  padding: 8px 12px;
  font-size: 16px;
  border: 2px solid #ccc;
  border-radius: 4px;
}

/* Top bar with fullscreen button */
#fullscreen-topbar {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 40px;
  background: #444;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: 0 10px;
}
#fullscreen-topbar button {
  background: #555;
  color: #fff;
  border: none;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
}
#fullscreen-topbar button:hover {
  background: #777;
}

/* Popup styles */
#popup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #222;
  border-radius: 10px;
  border: 2px solid #fff;
  max-width: 80%;
  width: 600px;
  max-height: 80%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  z-index: 9998;
}
#popup-header {
  background: #333;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px;
}
#popup-header h2 {
  margin: 0;
  font-size: 16px;
}
#popup-close {
  background: none;
  border: none;
  color: #fff;
  font-size: 20px;
  cursor: pointer;
}
#popup-content {
  flex: 1;
  position: relative;
}
#game-iframe {
  width: 100%;
  height: 100%;
  border: none;
}
</style>
</head>
<body>

<div id="search-container">
  <form id="search-form" onsubmit="return false;">
    <input type="text" id="search-box" placeholder="Type filename..." />
  </form>
</div>

<!-- Top bar for fullscreen toggle -->
<div id="fullscreen-topbar">
  <button id="exit-fullscreen-btn">Exit Fullscreen</button>
  <button id="enter-fullscreen-btn">Fullscreen</button>
</div>

<!-- Popup for game -->
<div id="popup">
  <div id="popup-header">
    <h2 id="popup-title"></h2>
    <button id="popup-close">&times;</button>
  </div>
  <div id="popup-content">
    <!-- iframe will be inserted here -->
  </div>
</div>

<script>
const validFiles = [
  'survivalrace.html', 'amongus.html', '1v1lol.html',
  'snowrider.html', 'pollytrack.html', 'smashyroad.html'
];

const popup = document.getElementById('popup');
const popupTitle = document.getElementById('popup-title');
const popupCloseBtn = document.getElementById('popup-close');
const iframeContainer = document.getElementById('popup-content');
const topbar = document.getElementById('fullscreen-topbar');
const enterBtn = document.getElementById('enter-fullscreen-btn');
const exitBtn = document.getElementById('exit-fullscreen-btn');

let iframe = null;

// Search handler
document.getElementById('search-form').onsubmit = () => {
  const filename = document.getElementById('search-box').value.trim();
  if (filename.toLowerCase() === 'password') {
    alert(`8 Ball - "8ball.html"
Car Arena - "car-arena.html"
Flappy Dunk - "flappy-dunk.html"
Snow Rider 3d - "snow-rider.html"
Polly Track - "polly-track.html"
Minecraft-parkour - "mine-park.html"
Smashy Road - "escape-dunk.html"
Among Us - "amongus.html"
1v1.lol - "1v1lol.html"`);
  } else if (validFiles.includes(filename.toLowerCase())) {
    if (iframe) {
      iframe.remove();
    }
    iframe = document.createElement('iframe');
    iframe.src = filename;
    iframe.id = 'game-iframe';
    iframe.style.width = '100%';
    iframe.style.height = '100%';
    iframeContainer.appendChild(iframe);
    popup.style.display = 'flex';
    // Reset
    iframe.classList.remove('fullscreen');
    hideTopbar();
  } else {
    window.open(`https://www.google.com/search?q=${encodeURIComponent(filename)}`, '_blank');
  }
  return false;
};

// Close popup
popupCloseBtn.onclick = () => {
  popup.style.display='none';
  if (iframe) {
    iframe.remove();
  }
  hideTopbar();
};

// Show top bar
function showTopbar() {
  topbar.style.display='flex';
}
// Hide top bar
function hideTopbar() {
  topbar.style.display='none';
}

// Enter fullscreen API
function enterFullscreen() {
  if (!iframe) return;
  if (iframe.requestFullscreen) {
    iframe.requestFullscreen();
  } else if (iframe.webkitRequestFullscreen) {
    iframe.webkitRequestFullscreen();
  } else if (iframe.msRequestFullscreen) {
    iframe.msRequestFullscreen();
  } else {
    // fallback: toggle class
    iframe.classList.add('fullscreen');
  }
  showTopbar();
}

// Exit fullscreen API
function exitFullscreen() {
  if (document.fullscreenElement) {
    document.exitFullscreen();
  } else {
    // fallback
    iframe.classList.remove('fullscreen');
  }
  hideTopbar();
}

// Button event handlers
document.getElementById('enter-fullscreen-btn').onclick = () => {
  enterFullscreen();
};
document.getElementById('exit-fullscreen-btn').onclick = () => {
  exitFullscreen();
};
</script>
</body>
</html>
